<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />

<!-- ////////////////////////////////////////////////////////////////////////
     // @license
     // This demo file is part of yFiles for HTML 2.6.0.3.
     // Copyright (c) 2000-2024 by yWorks GmbH, Vor dem Kreuzberg 28,
     // 72070 Tuebingen, Germany. All rights reserved.
     //
     // yFiles demo files exhibit yFiles for HTML functionalities. Any redistribution
     // of demo files in source code or binary form, with or without
     // modification, is not permitted.
     //
     // Owners of a valid software license for a yFiles for HTML version that this
     // demo is shipped with are allowed to use the demo source code as basis
     // for their own yFiles for HTML powered applications. Use of such programs is
     // governed by the rights and conditions as set out in the yFiles for HTML
     // license agreement.
     //
     // THIS SOFTWARE IS PROVIDED ''AS IS'' AND ANY EXPRESS OR IMPLIED
     // WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
     // MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN
     // NO EVENT SHALL yWorks BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
     // SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
     // TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
     // PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
     // LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
     // NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
     // SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
     //
     ////////////////////////////////////////////////////////////////////////-->

    <title>02 Create Nodes Sources - Tutorial: Graph Builder [yFiles for HTML]</title>
    <script type="module" src="../../resources/demo-page-init.ts" async></script>

    <link rel="stylesheet" href="../../resources/style/tutorial.css" />

    <script src="../../resources/filesystem-warning.js"></script>
  </head>
  <body class="demo-tutorial theme-light">
    <header class="demo-header">
      <a
        href="https://www.yworks.com/products/yfiles"
        class="demo-header__y-logo"
        title="Visit yFiles product details"
        target="_blank"
      ></a>
      <div class="demo-header__breadcrumb-wrapper">
        <a href="https://www.yworks.com/products/yfiles">yFiles for HTML</a>
        <a href="../../README.html">Demos</a>

        <a href="../../README.html#tutorial-graph-builder"> Tutorial: Graph Builder </a>

        <span>02 Create Nodes Sources</span>
        <a href="../../README.html" class="demo-header__mobile-back">yFiles Demos</a>
      </div>
      <div class="demo-header__right">
        <theme-button></theme-button>

        <show-source-button></show-source-button>
        <fullscreen-button></fullscreen-button>
      </div>
    </header>

    <div class="demo-page__toolbar no-overflow">
      <div class="demo-toolbar__tutorial-left">
        <!-- prettier-ignore -->
        <a class='demo-toolbar__button demo-toolbar__button--back' href='../../tutorial-graph-builder/01-create-graph/'><span>01 Create Graph</span></a>
      </div>
      <div
        class="demo-toolbar__tutorial-dropdown demo-toolbar__button demo-toolbar__button--low-emphasis"
      >
        <b>Step 2/13</b
        ><span class="demo-toolbar__tutorial-step-title"> &mdash; 02 Create Nodes Sources</span>
        <div class="tutorial-dropdown">
          <a href="../../tutorial-graph-builder/01-create-graph/" class="tutorial-dropdown__item"
            >01 Create Graph</a
          ><a
            href="../../tutorial-graph-builder/02-create-nodes-sources/"
            class="tutorial-dropdown__item tutorial-dropdown__item--current"
            >02 Create Nodes Sources</a
          ><a
            href="../../tutorial-graph-builder/03-create-edges-sources/"
            class="tutorial-dropdown__item"
            >03 Create Edges Sources</a
          ><a href="../../tutorial-graph-builder/04-group-nodes/" class="tutorial-dropdown__item"
            >04 Group Nodes</a
          ><a
            href="../../tutorial-graph-builder/05-implicit-grouping/"
            class="tutorial-dropdown__item"
            >05 Implicit Grouping</a
          ><a
            href="../../tutorial-graph-builder/06-configure-styles/"
            class="tutorial-dropdown__item"
            >06 Configure Styles</a
          ><a
            href="../../tutorial-graph-builder/07-create-labels-sources/"
            class="tutorial-dropdown__item"
            >07 Create Labels Sources</a
          ><a
            href="../../tutorial-graph-builder/08-configure-labels/"
            class="tutorial-dropdown__item"
            >08 Configure Labels</a
          ><a href="../../tutorial-graph-builder/09-configure-tags/" class="tutorial-dropdown__item"
            >09 Configure Tags</a
          ><a
            href="../../tutorial-graph-builder/10-configure-layout/"
            class="tutorial-dropdown__item"
            >10 Configure Layout</a
          ><a href="../../tutorial-graph-builder/11-update-graph/" class="tutorial-dropdown__item"
            >11 Update Graph</a
          ><a
            href="../../tutorial-graph-builder/12-adjacency-graph-builder/"
            class="tutorial-dropdown__item"
            >12 Adjacency Graph Builder</a
          ><a href="../../tutorial-graph-builder/13-tree-builder/" class="tutorial-dropdown__item"
            >13 Tree Builder</a
          >
        </div>
      </div>
      <div class="demo-toolbar__tutorial-right">
        <!-- prettier-ignore -->
        <a class='demo-toolbar__button demo-toolbar__button--forward' href='../../tutorial-graph-builder/03-create-edges-sources/'><span>03 Create Edges Sources</span></a>
      </div>
    </div>
    <aside class="demo-page__description demo-description--draggable" data-no-header>
      <div class="demo-description__content">
        <div class="demo-description__width-limit">
          <h1>Loading data from different sources</h1>
          <div id="preamble">
            <div class="sectionbody">
              <div class="paragraph">
                <p>In this step, you will learn how to use different data sources for nodes.</p>
              </div>
              <div class="paragraph">
                <p>
                  <a href="https://docs.yworks.com/yfileshtml/#/api/GraphBuilder" target="_blank">GraphBuilder</a> can import data from multiple sources. All node
                  sources that are presented in this step are combined in the graph on the right.
                  Nodes that are retrieved from the same data source have the same color.
                </p>
              </div>
              <div class="admonitionblock note">
                <table>
                  <tr>
                    <td class="icon">
                      <div class="title">Note</div>
                    </td>
                    <td class="content">
                      <div class="paragraph">
                        <p>
                          Give data items a unique identifier. It will ensure the correct connection
                          of edges as well as updating the graph correctly after changes in the
                          business data. If <code>null</code> is set for an
                          <a href="https://docs.yworks.com/yfileshtml/#/api/NodesSource#NodesSource-property-idProvider" target="_blank">id provider</a>,
                          the item itself will be used as identifier.
                        </p>
                      </div>
                      <div class="paragraph">
                        <p>
                          In our examples, we add a property named <code>id</code> to the business
                          data.
                        </p>
                      </div>
                    </td>
                  </tr>
                </table>
              </div>
            </div>
          </div>
          <div class="sect1">
            <h2 id="_import_nodes_from_an_iterable">Import nodes from an iterable</h2>
            <div class="sectionbody">
              <div class="paragraph">
                <p>
                  <a href="https://docs.yworks.com/yfileshtml/#/api/GraphBuilder" target="_blank">GraphBuilder</a> accepts different types of data collections. The most
                  commonly used collection is probably the
                  <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank">Array</a></strong
                  >.
                </p>
              </div>
              <div class="listingblock">
                <div class="content">
                  <pre
                    class="highlight"
                  ><code class="language-javascript" data-lang="javascript"><span class="hljs-keyword">const</span> nodeData = [{ <span class="hljs-attr">id</span>: <span class="hljs-string">&#x27;00&#x27;</span> }, { <span class="hljs-attr">id</span>: <span class="hljs-string">&#x27;01&#x27;</span> }, { <span class="hljs-attr">id</span>: <span class="hljs-string">&#x27;02&#x27;</span> }]

<span class="hljs-comment">// nodes source for the turquoise nodes</span>
<span class="hljs-keyword">const</span> nodesSource = graphBuilder.<span class="hljs-title function_">createNodesSource</span>(
  nodeData,
  <span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> item.<span class="hljs-property">id</span>
)</code></pre>
                </div>
              </div>
              <div class="paragraph">
                <p>
                  Another one is the
                  <strong><a href="https://docs.yworks.com/yfileshtml/#/api/IEnumerable" target="_blank">IEnumerable&lt;T&gt;</a></strong
                  >. The
                  <a href="https://docs.yworks.com/yfileshtml/#/api/NodesSource#NodesSource-property-idProvider" target="_blank">id provider</a> function
                  retrieves the identifiers for the nodes.
                </p>
              </div>
              <div class="paragraph">
                <p>
                  <a href="https://docs.yworks.com/yfileshtml/#/api/IEnumerable" target="_blank">IEnumerable&lt;T&gt;</a> implements the iterable
                  protocol, and therefore all yFiles for HTML collections are accepted, as well.
                  Since they are live collections, they become useful when updating the graph with
                  changing data.
                </p>
              </div>
              <div class="listingblock">
                <div class="content">
                  <pre
                    class="highlight"
                  ><code class="language-javascript" data-lang="javascript"><span class="hljs-keyword">const</span> nodeData = <span class="hljs-title class_">IEnumerable</span>.<span class="hljs-title function_">from</span>([{ <span class="hljs-attr">id</span>: <span class="hljs-string">&#x27;10&#x27;</span> }, { <span class="hljs-attr">id</span>: <span class="hljs-string">&#x27;11&#x27;</span> }, { <span class="hljs-attr">id</span>: <span class="hljs-string">&#x27;12&#x27;</span> }])

<span class="hljs-comment">// nodes source for the blue nodes</span>
<span class="hljs-keyword">const</span> nodesSource = graphBuilder.<span class="hljs-title function_">createNodesSource</span>(
  nodeData,
  <span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> item.<span class="hljs-property">id</span>
)</code></pre>
                </div>
              </div>
              <div class="paragraph">
                <p>
                  If you have organized the data in a
                  <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map" target="_blank">Map</a></strong> for
                  easy and fast access by a <code>key</code>, you can pass it to
                  <a href="https://docs.yworks.com/yfileshtml/#/api/GraphBuilder" target="_blank">GraphBuilder</a> as is. The map key of an item is passed to the
                  <a href="https://docs.yworks.com/yfileshtml/#/api/NodesSource#NodesSource-property-idProvider" target="_blank">id provider</a> function
                  as a second parameter and can be used as the identifier or a part of it.
                </p>
              </div>
              <div class="listingblock">
                <div class="content">
                  <pre
                    class="highlight"
                  ><code class="language-javascript" data-lang="javascript"><span class="hljs-keyword">const</span> nodeData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>&lt;string, { <span class="hljs-attr">id</span>: string }&gt;()
nodeData.<span class="hljs-title function_">set</span>(<span class="hljs-string">&#x27;node1&#x27;</span>, { <span class="hljs-attr">id</span>: <span class="hljs-string">&#x27;30&#x27;</span> })
nodeData.<span class="hljs-title function_">set</span>(<span class="hljs-string">&#x27;node2&#x27;</span>, { <span class="hljs-attr">id</span>: <span class="hljs-string">&#x27;31&#x27;</span> })
nodeData.<span class="hljs-title function_">set</span>(<span class="hljs-string">&#x27;node3&#x27;</span>, { <span class="hljs-attr">id</span>: <span class="hljs-string">&#x27;32&#x27;</span> })

<span class="hljs-comment">// nodes source for the red nodes</span>
<span class="hljs-keyword">const</span> nodesSource = graphBuilder.<span class="hljs-title function_">createNodesSource</span>(
  nodeData,
  <span class="hljs-function">(<span class="hljs-params">item, key</span>) =&gt;</span> item.<span class="hljs-property">id</span>
)</code></pre>
                </div>
              </div>
              <div class="paragraph">
                <p>
                  Passing data in a
                  <strong
                    ><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank">Object</a></strong
                  >
                  is handled similar to using a
                  <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map" target="_blank">Map</a></strong
                  >. Instead of the key, the property name is available in this case.
                </p>
              </div>
              <div class="listingblock">
                <div class="content">
                  <pre
                    class="highlight"
                  ><code class="language-javascript" data-lang="javascript"><span class="hljs-keyword">const</span> nodeData = {
  <span class="hljs-attr">node1</span>: { <span class="hljs-attr">id</span>: <span class="hljs-string">&#x27;20&#x27;</span> },
  <span class="hljs-attr">node2</span>: { <span class="hljs-attr">id</span>: <span class="hljs-string">&#x27;21&#x27;</span> },
  <span class="hljs-attr">node3</span>: { <span class="hljs-attr">id</span>: <span class="hljs-string">&#x27;22&#x27;</span> }
}

<span class="hljs-comment">// nodes source for the orange nodes</span>
<span class="hljs-keyword">const</span> nodesSource = graphBuilder.<span class="hljs-title function_">createNodesSource</span>(
  nodeData,
  <span class="hljs-function">(<span class="hljs-params">item, name</span>) =&gt;</span> item.<span class="hljs-property">id</span>
)</code></pre>
                </div>
              </div>
            </div>
          </div>
          <div class="sect1">
            <h2 id="_import_nodes_from_a_generator_function">
              Import nodes from a generator function
            </h2>
            <div class="sectionbody">
              <div class="paragraph">
                <p>
                  Especially with dynamic data, generator functions can be very useful. If a
                  <a href="https://docs.yworks.com/yfileshtml/#/api/NodesSource" target="_blank">NodesSource</a> is created from a generator function, it is very easy
                  to update the data as it is described in the tutorial step about
                  <a href="../11-update-graph/">updating the graph</a>. In the following example the
                  limit might be variable and the <a href="https://docs.yworks.com/yfileshtml/#/api/NodesSource" target="_blank">NodesSource</a> will provide the data
                  accordingly.
                </p>
              </div>
              <div class="listingblock">
                <div class="content">
                  <pre
                    class="highlight"
                  ><code class="language-javascript" data-lang="javascript"><span class="hljs-keyword">function</span>* <span class="hljs-title function_">nodes</span>(): <span class="hljs-title class_">Generator</span>&lt;{ <span class="hljs-attr">id</span>: string }&gt; {
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; limit; i++) {
    <span class="hljs-keyword">yield</span> { <span class="hljs-attr">id</span>: <span class="hljs-string">`4<span class="hljs-subst">${i}</span>`</span> }
  }
}

<span class="hljs-comment">// nodes source for the brown nodes</span>
<span class="hljs-keyword">const</span> nodesSource = graphBuilder.<span class="hljs-title function_">createNodesSource</span>(nodes, <span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> item.<span class="hljs-property">id</span>)</code></pre>
                </div>
              </div>
              <div class="admonitionblock note">
                <table>
                  <tr>
                    <td class="icon">
                      <div class="title">Note</div>
                    </td>
                    <td class="content">
                      <div class="paragraph">
                        <p>
                          Please have a look in this tutorial step’s demo code in
                          <code>create-nodes-sources.ts</code> and play around with the different
                          ways to import business data.
                        </p>
                      </div>
                    </td>
                  </tr>
                </table>
              </div>
            </div>
          </div>
          <div class="demo-description__next-tutorial">
            <!-- prettier-ignore -->
            <a class='demo-description__button demo-description__button--solid demo-description__button--next' href='../../tutorial-graph-builder/03-create-edges-sources/'><span>03 Create Edges Sources</span></a>
          </div>
        </div>
      </div>
    </aside>

    <div class="demo-page__main">
      <div class="demo-main__graph-component">
        <div id="graphComponent"></div>
      </div>
    </div>

    <script src="../../resources/apply-local-storage-variables.js"></script>
    <script type="module" crossorigin="anonymous" src="app.ts" async></script>
  </body>
</html>
